<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"
	crossorigin="anonymous">
</head>
<body class="container">
	<h1>Ajouter un film</h1>
	<form action="/form" method="post">
		<div class="row">
			<div class="col-sm">
				<label for="nameInput"> Title : </label> <input type="text"
					 id="nameInput" placeholder="Title" th:field="${movie.name}" />
				<div class="alert alert-danger" th:if="${#fields.hasErrors('movie.name')}">
					<p th:errors="${movie.name}"></p>
				</div>
			</div>
			<div class="col-sm">
				<label for="releaseYear"> Year : </label> <input type="number"
					th:field="${movie.releaseyear}" placeholder="Year"  id="releaseYear" />
				<div class="alert alert-danger"
					th:if="${#fields.hasErrors('movie.releaseyear')}">
					<p th:errors="${movie.releaseyear}"></p>
				</div>
			</div>
			<div class="col-sm">
				<label for="duration">Duration : </label> <input type="number"
					id="duration" th:field="${movie.duration}" placeholder="Duration" />
					<div class="alert alert-danger"
					th:if="${#fields.hasErrors('movie.duration')}">
					<p th:errors="${movie.duration}"></p>
				</div>
			</div>
		</div>
		<div class="row">
			<label for="synopsis">Synopsis : </label>
			<textarea type="text" id="synopsis" placeholder="Synopsis" th:field="${movie.synopsis}"></textarea>
			<div class="alert alert-danger"
				th:if="${#fields.hasErrors('movie.synopsis')}">
				<p th:errors="${movie.synopsis}"></p>
			</div>
		</div>
		<div class="row">
			<label for="directorFirstNameInput"> Director First Name : </label> <select
				id="directorFirstNameInput" th:field="${movie.director}">
				<option th:each="personne : ${personnes} "
					th:text="${personne.firstname +' '+ personne.lastname}"
					th:value="${personne.id}"></option>

		

			</select>
			<div class="alert alert-danger"
				th:if="${#fields.hasErrors('movie.director')}">
				<p th:errors="${movie.director}"></p>
			</div>
			
		</div>
		<div class="row">
			<label for="genreInput"> Genre : </label> <br /> <select
				id="genreInput" th:field="${movie.genre}">
				<option th:each="genre : ${genres} " th:text="${genre.name}"
					th:value="${genre.id}"></option>
			</select>
			<div class="alert alert-danger"
				th:if="${#fields.hasErrors('movie.genre')}">
				<p th:errors="${movie.genre}"></p></div>
			
		</div>
		<div class="row">
			<label for="actorsInput"> Actors : </label> <br /> <select
				id="actorsInput" th:field="${movie.actors}" multiple>
				<option th:each="personne : ${personnes} "
					th:text="${personne.firstname +' '+ personne.lastname}"
					th:value="${personne.id}"></option>
			</select>
			<div class="alert alert-danger"
				th:if="${#fields.hasErrors('movie.actors')}">
				<p th:errors="${movie.actors}"></p>
			</div>
		</div>
		<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
		<button type="submit">Send</button>
	</form>
</body>
</html>